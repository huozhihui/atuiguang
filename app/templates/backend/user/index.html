{% extends "extends/base_table.html" %}
{% block table_content %}
    {% import 'macros/render_btn.html' as macros %}
    <div class="dataTable_wrapper">
        <table class="table table-striped table-bordered table-hover" id="dataTables-example">
            <thead>
            <tr>
                <th width="10%">序号</th>
                <th width="10%">身份</th>
                <th width="15%">用户名</th>
                <th width="10%">手机号</th>
                <th width="15%">邮箱</th>
                <th width="10%">角色</th>
                <th width="10%">状态</th>
                <th width="20%">操作</th>
            </tr>
            </thead>
            <tbody>
            {% for obj in objects %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ obj.identity }}</td>
                    <td>{{ obj.username }}</td>
                    <td>{{ obj.telphone }}</td>
                    <td>{{ obj.email }}</td>
                    <td>{{ obj.role.name }}</td>
                    <td></td>
                    <td>
                        {{ macros.render_edit_btn('user.edit', obj.id) }}
                        {{ macros.render_btn('修改密码', 'user.change_password', obj.id) }}
                        {% if obj.freezed %}
                            {{ macros.render_btn('取消冻结', 'user.cancel_freezed', obj.id) }}
                        {% else %}
                            {{ macros.render_btn('冻结', 'user.freezed_user', obj.id) }}
                        {% endif %}
                        {{ macros.render_del_btn('user.delete', obj.id) }}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <!-- /.table-responsive -->
    {{ macros.render_add_btn('user.new') }}
{% endblock %}
